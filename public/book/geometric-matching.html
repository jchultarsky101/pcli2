<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js oranda-dark">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Geometric Matching</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">
        <link rel="stylesheet" href="oranda-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "oranda-dark" : "oranda-dark";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('orandamdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('orandamdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('orandamdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('oranda-dark')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">1.</strong> Installation Guide</a></li><li class="chapter-item expanded "><a href="quickstart.html"><strong aria-hidden="true">2.</strong> Quick Start Guide</a></li><li class="chapter-item expanded "><a href="geometric-matching.html" class="active"><strong aria-hidden="true">3.</strong> Geometric Matching</a></li><li class="chapter-item expanded "><a href="metadata-inference.html"><strong aria-hidden="true">4.</strong> Metadata Inference</a></li><li class="chapter-item expanded "><a href="cross_platform.html"><strong aria-hidden="true">5.</strong> Cross-Platform Configuration</a></li><li class="chapter-item expanded "><a href="documentation_deployment.html"><strong aria-hidden="true">6.</strong> Documentation Deployment</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="oranda-dark">Oranda Dark</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="oranda-light">Oranda Light</button></li>

                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="geometric-matching"><a class="header" href="#geometric-matching">Geometric Matching</a></h1>
<p>PCLI2 provides powerful geometric matching capabilities to find similar assets in your Physna tenant. This feature leverages advanced algorithms to identify assets with similar geometries, regardless of their orientation, scale, or position.</p>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h2>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#single-asset-matching">Single Asset Matching</a></li>
<li><a href="#folder-based-matching">Folder-Based Matching</a></li>
<li><a href="#threshold-settings">Threshold Settings</a></li>
<li><a href="#performance-options">Performance Options</a></li>
<li><a href="#error-handling">Error Handling</a></li>
<li><a href="#best-practices">Best Practices</a></li>
<li><a href="#advanced-usage">Advanced Usage</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
</ul>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>Geometric matching helps you:</p>
<ul>
<li>Find duplicate or near-duplicate assets</li>
<li>Identify variations of the same part</li>
<li>Locate similar components across different projects</li>
<li>Reduce storage costs by identifying redundant assets</li>
<li>Improve design workflows by finding existing similar parts</li>
</ul>
<h2 id="related-features"><a class="header" href="#related-features">Related Features</a></h2>
<p>Geometric matching serves as the foundation for other powerful capabilities:</p>
<ul>
<li><strong>Metadata Inference</strong>: Automatically propagate metadata from reference assets to geometrically similar assets using <code>pcli2 asset metadata inference</code></li>
<li><strong>Part Family Management</strong>: Organize and categorize groups of similar components</li>
<li><strong>Design Optimization</strong>: Identify opportunities for part consolidation and standardization</li>
</ul>
<h2 id="single-asset-matching"><a class="header" href="#single-asset-matching">Single Asset Matching</a></h2>
<p>Find geometrically similar assets for a specific reference asset.</p>
<h3 id="basic-usage"><a class="header" href="#basic-usage">Basic Usage</a></h3>
<pre><code class="language-bash"># Find matches for a specific asset
pcli2 asset geometric-match --path /Root/Folder/ReferenceModel.stl --threshold 80.0

# Using asset UUID instead of path
pcli2 asset geometric-match --uuid 123e4567-e89b-12d3-a456-426614174000 --threshold 85.0

# Find matches with CSV output and headers
pcli2 asset geometric-match --path /Root/Folder/ReferenceModel.stl --threshold 80.0 --format csv --headers

# Find matches with CSV output, headers, and metadata
pcli2 asset geometric-match --path /Root/Folder/ReferenceModel.stl --threshold 80.0 --format csv --headers --metadata
</code></pre>
<h3 id="output-formats"><a class="header" href="#output-formats">Output Formats</a></h3>
<h4 id="json-format-default"><a class="header" href="#json-format-default">JSON Format (Default)</a></h4>
<pre><code class="language-json">[
  {
    "referenceAssetName": "ReferenceModel.stl",
    "candidateAssetName": "SimilarModel.stl",
    "matchPercentage": 95.75,
    "referenceAssetPath": "/Root/Folder/ReferenceModel.stl",
    "candidateAssetPath": "/Root/DifferentFolder/SimilarModel.stl",
    "referenceAssetUuid": "123e4567-e89b-12d3-a456-426614174000",
    "candidateAssetUuid": "987fc321-fedc-ba98-7654-43210fedcba9"
  }
]
</code></pre>
<h4 id="csv-format"><a class="header" href="#csv-format">CSV Format</a></h4>
<pre><code class="language-csv">REFERENCE_ASSET_NAME,CANDIDATE_ASSET_NAME,MATCH_PERCENTAGE,REFERENCE_ASSET_PATH,CANDIDATE_ASSET_PATH,REFERENCE_ASSET_UUID,CANDIDATE_ASSET_UUID,COMPARISON_URL
ReferenceModel.stl,SimilarModel.stl,95.75,/Root/Folder/ReferenceModel.stl,/Root/DifferentFolder/SimilarModel.stl,123e4567-e89b-12d3-a456-426614174000,987fc321-fedc-ba98-7654-43210fedcba9,https://app.physna.com/tenants/demo-1/compare?asset1Id=123e4567-e89b-12d3-a456-426614174000&amp;asset2Id=987fc321-fedc-ba98-7654-43210fedcba9&amp;tenant1Id=68555ebf-f09c-4861-96b1-692d2ec10de7&amp;tenant2Id=68555ebf-f09c-4861-96b1-692d2ec10de7&amp;searchType=geometric&amp;matchPercentage=95.75
</code></pre>
<h4 id="csv-format-with-metadata"><a class="header" href="#csv-format-with-metadata">CSV Format with Metadata</a></h4>
<p>When using the <code>--metadata</code> flag, the output includes metadata fields from both the reference and candidate assets. This produces CSV output with additional metadata columns prefixed with <code>REF_</code> for reference asset metadata and <code>CAND_</code> for candidate asset metadata. The output also includes a <code>COMPARISON_URL</code> column that provides a link to view the comparison in the Physna UI:</p>
<pre><code class="language-csv">REFERENCE_ASSET_PATH,CANDIDATE_ASSET_PATH,MATCH_PERCENTAGE,REFERENCE_ASSET_UUID,CANDIDATE_ASSET_UUID,COMPARISON_URL,REF_MATERIAL,CAND_MATERIAL,REF_COLOR,CAND_COLOR
/Root/Folder/ReferenceModel.stl,/Root/DifferentFolder/SimilarModel.stl,95.75,123e4567-e89b-12d3-a456-426614174000,987fc321-fedc-ba98-7654-43210fedcba9,https://app.physna.com/tenants/demo-1/compare?asset1Id=123e4567-e89b-12d3-a456-426614174000&amp;asset2Id=987fc321-fedc-ba98-7654-43210fedcba9&amp;tenant1Id=68555ebf-f09c-4861-96b1-692d2ec10de7&amp;tenant2Id=68555ebf-f09c-4861-96b1-692d2ec10de7&amp;searchType=geometric&amp;matchPercentage=95.75,Steel,Aluminum,Red,Blue
</code></pre>
<p>All metadata fields from all matched assets are included as columns, with empty values for assets that don't have a particular metadata field.</p>
<h4 id="complete-examples"><a class="header" href="#complete-examples">Complete Examples</a></h4>
<p>Here are complete examples showing the command with and without the <code>--metadata</code> flag:</p>
<p><strong>Without metadata:</strong></p>
<pre><code class="language-bash">pcli2 asset geometric-match --path /Root/Folder/ReferenceModel.stl --threshold 80.0 --format csv --headers
</code></pre>
<p>Output:</p>
<pre><code class="language-csv">REFERENCE_ASSET_PATH,CANDIDATE_ASSET_PATH,MATCH_PERCENTAGE,REFERENCE_ASSET_UUID,CANDIDATE_ASSET_UUID,COMPARISON_URL
/Root/Folder/ReferenceModel.stl,/Root/DifferentFolder/SimilarModel.stl,95.75,123e4567-e89b-12d3-a456-426614174000,987fc321-fedc-ba98-7654-43210fedcba9,https://app.physna.com/tenants/demo-1/compare?asset1Id=123e4567-e89b-12d3-a456-426614174000&amp;asset2Id=987fc321-fedc-ba98-7654-43210fedcba9&amp;tenant1Id=68555ebf-f09c-4861-96b1-692d2ec10de7&amp;tenant2Id=68555ebf-f09c-4861-96b1-692d2ec10de7&amp;searchType=geometric&amp;matchPercentage=95.75
</code></pre>
<p><strong>With metadata:</strong></p>
<pre><code class="language-bash">pcli2 asset geometric-match --path /Root/Folder/ReferenceModel.stl --threshold 80.0 --format csv --headers --metadata
</code></pre>
<p>Output:</p>
<pre><code class="language-csv">REFERENCE_ASSET_PATH,CANDIDATE_ASSET_PATH,MATCH_PERCENTAGE,REFERENCE_ASSET_UUID,CANDIDATE_ASSET_UUID,COMPARISON_URL,REF_MATERIAL,CAND_MATERIAL,REF_COLOR,CAND_COLOR
/Root/Folder/ReferenceModel.stl,/Root/DifferentFolder/SimilarModel.stl,95.75,123e4567-e89b-12d3-a456-426614174000,987fc321-fedc-ba98-7654-43210fedcba9,https://app.physna.com/tenants/demo-1/compare?asset1Id=123e4567-e89b-12d3-a456-426614174000&amp;asset2Id=987fc321-fedc-ba98-7654-43210fedcba9&amp;tenant1Id=68555ebf-f09c-4861-96b1-692d2ec10de7&amp;tenant2Id=68555ebf-f09c-4861-96b1-692d2ec10de7&amp;searchType=geometric&amp;matchPercentage=95.75,Steel,Aluminum,Red,Blue
</code></pre>
<h3 id="threshold-settings"><a class="header" href="#threshold-settings">Threshold Settings</a></h3>
<p>The threshold parameter controls the minimum similarity percentage required for a match:</p>
<ul>
<li><strong>0.0</strong> - Return all possible matches (may include unrelated assets)</li>
<li><strong>50.0</strong> - Very loose matching (many potential matches)</li>
<li><strong>80.0</strong> - Default setting (good balance of accuracy and recall)</li>
<li><strong>90.0</strong> - Strict matching (high confidence matches)</li>
<li><strong>95.0+</strong> - Very strict matching (near duplicates only)</li>
</ul>
<h2 id="folder-based-matching"><a class="header" href="#folder-based-matching">Folder-Based Matching</a></h2>
<p>Find geometrically similar assets for all assets in a specified folder. This command processes assets in parallel for improved performance.</p>
<h3 id="basic-usage-1"><a class="header" href="#basic-usage-1">Basic Usage</a></h3>
<pre><code class="language-bash"># Find matches for all assets in a folder
pcli2 asset geometric-match-folder --folder-path /Root/SearchFolder/ --threshold 85.0
</code></pre>
<h3 id="comparison-viewer-url"><a class="header" href="#comparison-viewer-url">Comparison Viewer URL</a></h3>
<p>Both <code>geometric-match</code> and <code>geometric-match-folder</code> commands include a comparison URL in their output that allows you to view the geometric match in the Physna UI. The URL is available in both JSON and CSV formats:</p>
<ul>
<li><strong>JSON</strong>: The field is named <code>comparisonUrl</code></li>
<li><strong>CSV</strong>: The column is named <code>COMPARISON_URL</code></li>
</ul>
<p>The URL follows this format:</p>
<pre><code>https://app.physna.com/tenants/{tenant_short_name}/compare?asset1Id={reference_asset_uuid}&amp;asset2Id={candidate_asset_uuid}&amp;tenant1Id={tenant_uuid}&amp;tenant2Id={tenant_uuid}&amp;searchType=geometric&amp;matchPercentage={match_percentage}
</code></pre>
<h3 id="performance-options"><a class="header" href="#performance-options">Performance Options</a></h3>
<h4 id="concurrency-control"><a class="header" href="#concurrency-control">Concurrency Control</a></h4>
<p>Control how many simultaneous operations are performed (range: 1-10, default: 1):</p>
<pre><code class="language-bash"># Use 8 concurrent operations (default is 1, maximum is 10)
pcli2 asset geometric-match-folder --folder-path /Root/SearchFolder/ --concurrent 8

# Use the default (1 concurrent operation)
pcli2 asset geometric-match-folder --folder-path /Root/SearchFolder/

# Invalid values will cause the command to fail
pcli2 asset geometric-match-folder --folder-path /Root/SearchFolder/ --concurrent 15
# This will show an error: "Invalid value for '--concurrent': must be between 1 and 10, got 15"
</code></pre>
<h4 id="progress-tracking"><a class="header" href="#progress-tracking">Progress Tracking</a></h4>
<p>Display progress information during long-running operations:</p>
<pre><code class="language-bash"># Show progress information
pcli2 asset geometric-match-folder --folder-path /Root/SearchFolder/ --progress

# Combine with concurrency to show multiple progress bars (one per concurrent operation)
pcli2 asset geometric-match-folder --folder-path /Root/SearchFolder/ --concurrent 8 --progress
</code></pre>
<p>When using both <code>--concurrent</code> and <code>--progress</code> flags together, the command will display:</p>
<ul>
<li>An overall progress bar showing the total completion percentage</li>
<li>Individual progress bars for each concurrent operation showing which assets are being processed</li>
<li>Status messages indicating the current stage of each operation (starting search, processing matches, completion)</li>
</ul>
<h4 id="performance-options-1"><a class="header" href="#performance-options-1">Performance Options</a></h4>
<h5 id="concurrency-and-progress-combined"><a class="header" href="#concurrency-and-progress-combined">Concurrency and Progress Combined</a></h5>
<p>For optimal performance monitoring, combine both options:</p>
<pre><code class="language-bash"># Use 10 concurrent operations with detailed progress tracking
pcli2 asset geometric-match-folder --folder-path /Root/SearchFolder/ --concurrent 10 --progress

# Combine with other options
pcli2 asset geometric-match-folder --folder-path /Root/SearchFolder/ --threshold 85.0 --concurrent 8 --progress
</code></pre>
<h3 id="handling-large-folders"><a class="header" href="#handling-large-folders">Handling Large Folders</a></h3>
<p>For folders with many assets, consider these strategies:</p>
<ol>
<li><strong>Adjust threshold</strong>: Higher thresholds reduce processing time</li>
<li><strong>Increase concurrency</strong>: Use more concurrent operations (but watch resource usage)</li>
<li><strong>Process in batches</strong>: Break large folders into smaller subfolders</li>
</ol>
<h2 id="error-handling"><a class="header" href="#error-handling">Error Handling</a></h2>
<h3 id="common-errors"><a class="header" href="#common-errors">Common Errors</a></h3>
<h4 id="http-409-conflict"><a class="header" href="#http-409-conflict">HTTP 409 Conflict</a></h4>
<p>When the server is busy or rate-limiting requests:</p>
<pre><code>ERROR: Error performing geometric search for asset XXX after 3 retries: HTTP error: HTTP status client error (409 Conflict)
</code></pre>
<p>PCLI2 automatically retries up to 3 times with 500ms delays between attempts.</p>
<h4 id="permission-denied"><a class="header" href="#permission-denied">Permission Denied</a></h4>
<p>When you don't have permission to perform geometric search:</p>
<pre><code>ERROR: Error: Access forbidden. You don't have permission to perform geometric search on this asset.
</code></pre>
<p>Check your tenant permissions and API credentials.</p>
<h4 id="asset-not-found"><a class="header" href="#asset-not-found">Asset Not Found</a></h4>
<p>When the specified asset or folder cannot be found:</p>
<pre><code>ERROR: The asset with ID 'XXX' cannot be found in tenant 'YYY'
</code></pre>
<p>Verify the asset path or UUID is correct.</p>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="optimizing-performance"><a class="header" href="#optimizing-performance">Optimizing Performance</a></h3>
<ol>
<li><strong>Use appropriate thresholds</strong>: Start with 80-85% and adjust based on results</li>
<li><strong>Limit search scope</strong>: Use specific folders rather than searching entire tenants</li>
<li><strong>Monitor resource usage</strong>: Adjust concurrency based on your system capabilities</li>
<li><strong>Use progress tracking</strong>: Monitor long-running operations</li>
</ol>
<h3 id="interpreting-results"><a class="header" href="#interpreting-results">Interpreting Results</a></h3>
<ul>
<li><strong>High match percentages (&gt;95%)</strong>: Likely duplicates or very similar assets</li>
<li><strong>Medium match percentages (80-95%)</strong>: Similar geometry with variations</li>
<li><strong>Low match percentages (&lt;80%)</strong>: May be false positives or loosely related</li>
</ul>
<h3 id="automation-tips"><a class="header" href="#automation-tips">Automation Tips</a></h3>
<ol>
<li><strong>Schedule regular deduplication</strong>: Run geometric matching periodically to identify duplicates</li>
<li><strong>Integrate with CI/CD</strong>: Use geometric matching in automated workflows</li>
<li><strong>Export results</strong>: Use CSV format for easy analysis in spreadsheets</li>
</ol>
<h2 id="advanced-usage"><a class="header" href="#advanced-usage">Advanced Usage</a></h2>
<h3 id="scripting-examples"><a class="header" href="#scripting-examples">Scripting Examples</a></h3>
<h4 id="bash-script-for-regular-deduplication"><a class="header" href="#bash-script-for-regular-deduplication">Bash Script for Regular Deduplication</a></h4>
<pre><code class="language-bash">#!/bin/bash
# deduplicate.sh

FOLDERS=("/Root/ProjectA/" "/Root/ProjectB/" "/Root/Archive/")
THRESHOLD=95.0
CONCURRENT=8  # Number of concurrent operations
TIMESTAMP=$(date +%Y%m%d_%H%M%S)

for folder in "${FOLDERS[@]}"; do
    echo "Processing folder: $folder"
    pcli2 asset geometric-match-folder \
        --folder-path "$folder" \
        --threshold $THRESHOLD \
        --concurrent $CONCURRENT \
        --format csv \
        --progress \
        &gt; "duplicates_${folder//\//_}_$TIMESTAMP.csv"
done

echo "Deduplication complete. Results saved to CSV files."
</code></pre>
<h4 id="powershell-script-for-windows"><a class="header" href="#powershell-script-for-windows">PowerShell Script for Windows</a></h4>
<pre><code class="language-powershell"># deduplicate.ps1

$Folders = @("/Root/ProjectA/", "/Root/ProjectB/", "/Root/Archive/")
$Threshold = 95.0
$Concurrent = 8  # Number of concurrent operations
$Timestamp = Get-Date -Format "yyyyMMdd_HHmmss"

foreach ($folder in $Folders) {
    Write-Host "Processing folder: $folder"
    pcli2 asset geometric-match-folder `
        --folder-path $folder `
        --threshold $Threshold `
        --concurrent $Concurrent `
        --format csv `
        --progress `
        &gt; "duplicates_$($folder.Replace('/', '_'))_$Timestamp.csv"
}

Write-Host "Deduplication complete. Results saved to CSV files."
</code></pre>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="performance-issues"><a class="header" href="#performance-issues">Performance Issues</a></h3>
<p>If matching operations are taking too long:</p>
<ol>
<li><strong>Reduce concurrency</strong>: Lower the <code>--concurrent</code> value</li>
<li><strong>Increase threshold</strong>: Use higher threshold values to reduce matches</li>
<li><strong>Check network</strong>: Ensure good connectivity to the Physna API</li>
<li><strong>Monitor server status</strong>: Check if the Physna service is experiencing issues</li>
</ol>
<h3 id="incomplete-results"><a class="header" href="#incomplete-results">Incomplete Results</a></h3>
<p>If you're not seeing expected matches:</p>
<ol>
<li><strong>Lower threshold</strong>: Try lower threshold values</li>
<li><strong>Check asset types</strong>: Ensure assets are compatible geometric file types</li>
<li><strong>Verify permissions</strong>: Confirm you have access to all assets in the search scope</li>
<li><strong>Contact support</strong>: If issues persist, reach out to Physna support</li>
</ol>
<h2 id="related-commands"><a class="header" href="#related-commands">Related Commands</a></h2>
<ul>
<li><code>asset geometric-match</code> - Find matches for a single asset</li>
<li><code>asset geometric-match-folder</code> - Find matches for all assets in a folder</li>
<li><code>asset list</code> - List assets in a folder</li>
<li><code>asset get</code> - Get detailed asset information</li>
</ul>
<p>Use <code>pcli2 asset geometric-match --help</code> and <code>pcli2 asset geometric-match-folder --help</code> for detailed command information.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="quickstart.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="metadata-inference.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="quickstart.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="metadata-inference.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
